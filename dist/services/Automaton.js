"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.AutomatonWorker = void 0;
var AutomatonWorker = /** @class */ (function () {
    function AutomatonWorker(receivedData) {
        this._data = receivedData;
    }
    AutomatonWorker.prototype.clicheHandler = function () {
        var _this = this;
        return new Promise(function (resolve, reject) {
            var cliche = '';
            switch (_this._data.clicheId) {
                case 'problem_unconfirmed':
                    cliche = (function () {
                        var _a = _this._data, date_start = _a.date_start, date_end = _a.date_end, time_start = _a.time_start, time_end = _a.time_end, service = _a.service, url = _a.url, isScreenshot = _a.isScreenshot;
                        return date_start + " \u0432 " + time_start + " \u0441\u0438\u0441\u0442\u0435\u043C\u0430 \u043C\u043E\u043D\u0438\u0442\u043E\u0440\u0438\u043D\u0433\u0430 \u0441\u043E\u043E\u0431\u0449\u0438\u043B\u0430 \u043E \u0432\u043E\u0437\u043D\u0438\u043A\u043D\u043E\u0432\u0435\u043D\u0438\u0438 \u043F\u0440\u043E\u0431\u043B\u0435\u043C \u0432 \u0440\u0430\u0431\u043E\u0442\u0435 \u0440\u0430\u0437\u0434\u0435\u043B\u0430 \u00AB" + service + "\u00BB - " + url + ".\n                            \u041F\u0440\u0438 \u043F\u0440\u043E\u0432\u0435\u0440\u043A\u0435 \u0432\u0440\u0443\u0447\u043D\u0443\u044E \u043D\u0435\u0434\u043E\u0441\u0442\u0443\u043F\u043D\u043E\u0441\u0442\u044C \u0438\u043B\u0438 \u043D\u0435\u043A\u043E\u0440\u0440\u0435\u043A\u0442\u043D\u0430\u044F \u0440\u0430\u0431\u043E\u0442\u0430 \u0440\u0430\u0437\u0434\u0435\u043B\u0430 \u043D\u0435 \u0437\u0430\u0444\u0438\u043A\u0441\u0438\u0440\u043E\u0432\u0430\u043D\u0430" + (isScreenshot ? ' (см. снимок экрана во вложении)' : '') + ".\n                            \u0412 " + time_end + " \u0441\u0438\u0441\u0442\u0435\u043C\u0430 \u043C\u043E\u043D\u0438\u0442\u043E\u0440\u0438\u043D\u0433\u0430 \u0441\u043E\u043E\u0431\u0449\u0438\u043B\u0430 \u043E \u0432\u043E\u0441\u0441\u0442\u0430\u043D\u043E\u0432\u043B\u0435\u043D\u0438\u0438 \u0440\u0430\u0431\u043E\u0442\u043E\u0441\u043F\u043E\u0441\u043E\u0431\u043D\u043E\u0441\u0442\u0438 \u0440\u0430\u0437\u0434\u0435\u043B\u0430 \u00AB" + service + "\u00BB.";
                    })();
                    break;
                case 'problem_confirmed':
                    cliche = (function () {
                        var _a = _this._data, date_start = _a.date_start, date_end = _a.date_end, time_start = _a.time_start, time_end = _a.time_end, service = _a.service, url = _a.url, isScreenshot = _a.isScreenshot, SDNumber = _a.SDNumber;
                        return date_start + " \u0432 " + time_start + " \u0441\u0438\u0441\u0442\u0435\u043C\u0430 \u043C\u043E\u043D\u0438\u0442\u043E\u0440\u0438\u043D\u0433\u0430 \u0441\u043E\u043E\u0431\u0449\u0438\u043B\u0430 \u043E \u0432\u043E\u0437\u043D\u0438\u043A\u043D\u043E\u0432\u0435\u043D\u0438\u0438 \u043F\u0440\u043E\u0431\u043B\u0435\u043C \u0432 \u0440\u0430\u0431\u043E\u0442\u0435 \u0440\u0430\u0437\u0434\u0435\u043B\u0430 \u00AB" + service + "\u00BB - " + url + ".\n                        \u041F\u0440\u0438 \u043F\u0440\u043E\u0432\u0435\u0440\u043A\u0435 \u0432\u0440\u0443\u0447\u043D\u0443\u044E \u043F\u0440\u043E\u0431\u043B\u0435\u043C\u0430 \u043F\u043E\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u043B\u0430\u0441\u044C " + (isScreenshot && ' (см. снимок экрана во вложении)') + ".\n                        \u041F\u0440\u043E\u0431\u043B\u0435\u043C\u0430 \u043F\u0435\u0440\u0435\u0434\u0430\u043D\u0430 \u0434\u043B\u044F \u0440\u0435\u0448\u0435\u043D\u0438\u044F \u043E\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043D\u043D\u044B\u043C \u043B\u0438\u0446\u0430\u043C. / \u0414\u043B\u044F \u0440\u0435\u0448\u0435\u043D\u0438\u044F \u043F\u0440\u043E\u0431\u043B\u0435\u043C\u044B \u043D\u0430\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u043E \u043E\u0431\u0440\u0430\u0449\u0435\u043D\u0438\u0435 \u0432 \u0426\u041F\u0413\u0423 \u2116" + SDNumber + ".\n                        " + date_end + " \u0432 " + time_end + " \u0441\u0438\u0441\u0442\u0435\u043C\u0430 \u043C\u043E\u043D\u0438\u0442\u043E\u0440\u0438\u043D\u0433\u0430 / \u0442\u0435\u0445\u043D\u0438\u0447\u0435\u0441\u043A\u0438\u0435 \u0441\u043F\u0435\u0446\u0438\u0430\u043B\u0438\u0441\u0442\u044B / \u0421\u0422\u041F \u0426\u041F\u0413\u0423, \u0432 \u0440\u0430\u043C\u043A\u0430\u0445 " + SDNumber + " \u0441\u043E\u043E\u0431\u0449\u0438\u043B\u0438 \u043E \u0432\u043E\u0441\u0441\u0442\u0430\u043D\u043E\u0432\u043B\u0435\u043D\u0438\u0438 \u0440\u0430\u0431\u043E\u0442\u043E\u0441\u043F\u043E\u0441\u043E\u0431\u043D\u043E\u0441\u0442\u0438 \u0440\u0430\u0437\u0434\u0435\u043B\u0430 \u00AB" + service + "\u00BB.\n                        \n                        \u0412\u0440\u0435\u043C\u044F \u043D\u0430\u0447\u0430\u043B\u0430 - " + date_start + " " + time_start + "\n                        \u0412\u0440\u0435\u043C\u044F \u043E\u043A\u043E\u043D\u0447\u0430\u043D\u0438\u044F - " + date_end + " " + time_end + "\n                        \u0417\u0430\u0442\u0440\u043E\u043D\u0443\u0442\u044B\u0439 \u0432\u0440\u0435\u043C\u0435\u043D\u043D\u043E\u0439 \u0438\u043D\u0442\u0435\u0440\u0432\u0430\u043B - \u0425\u0425 \u0447\u0430\u0441\u043E\u0432 \u0425\u0425 \u043C\u0438\u043D\u0443\u0442";
                    })();
                    //some countings here + выбор между "разделом", "услугой", др.
                    break;
                case 'problem_stillFailing':
                    cliche = (function () {
                        var _a = _this._data, date_start = _a.date_start, date_end = _a.date_end, time_start = _a.time_start, time_end = _a.time_end, service = _a.service, url = _a.url, SDNumber = _a.SDNumber, functionality = _a.functionality;
                        return date_start + " \u0432 " + time_start + " \u0441\u0438\u0441\u0442\u0435\u043C\u0430 \u043C\u043E\u043D\u0438\u0442\u043E\u0440\u0438\u043D\u0433\u0430 \u0441\u043E\u043E\u0431\u0449\u0438\u043B\u0430 \u043E \u0432\u043E\u0437\u043D\u0438\u043A\u043D\u043E\u0432\u0435\u043D\u0438\u0438 \u043F\u0440\u043E\u0431\u043B\u0435\u043C \u0432 \u0440\u0430\u0431\u043E\u0442\u0435 \u0440\u0430\u0437\u0434\u0435\u043B\u0430 \u00AB" + service + "\u00BB - " + url + ".\n                        \u041F\u0440\u0438 \u043F\u0440\u043E\u0432\u0435\u0440\u043A\u0435 \u0432\u0440\u0443\u0447\u043D\u0443\u044E \u043D\u0435\u043A\u043E\u0440\u0440\u0435\u043A\u0442\u043D\u0430\u044F \u0440\u0430\u0431\u043E\u0442\u0430 \u0440\u0430\u0437\u0434\u0435\u043B\u0430 \u043D\u0435 \u0437\u0430\u0444\u0438\u043A\u0441\u0438\u0440\u043E\u0432\u0430\u043D\u0430 (\u0441\u043C. \u0441\u043D\u0438\u043C\u043E\u043A \u044D\u043A\u0440\u0430\u043D\u0430 \u0432\u043E \u0432\u043B\u043E\u0436\u0435\u043D\u0438\u0438). \u0421\u0446\u0435\u043D\u0430\u0440\u0438\u0439 \u0444\u0443\u043D\u043A\u0446\u0438\u043E\u043D\u0430\u043B\u044C\u043D\u043E\u0433\u043E \u0442\u0435\u0441\u0442\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u044F \u043F\u0440\u043E\u0432\u0430\u043B\u0438\u043B\u0441\u044F \u0438\u0437-\u0437\u0430 \u0438\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u0439 " + functionality + " \u0432 \u0440\u0430\u043C\u043A\u0430\u0445 \u0437\u0430\u043F\u043B\u0430\u043D\u0438\u0440\u043E\u0432\u0430\u043D\u043D\u043E\u0433\u043E \u0440\u0435\u043B\u0438\u0437\u0430.\n                        \n                        \u0414\u043B\u044F \u043A\u043E\u0440\u0440\u0435\u043A\u0442\u0438\u0440\u043E\u0432\u043A\u0438 \u0441\u0446\u0435\u043D\u0430\u0440\u0438\u044F \u0444\u0443\u043D\u043A\u0446\u0438\u043E\u043D\u0430\u043B\u044C\u043D\u043E\u0433\u043E \u0442\u0435\u0441\u0442\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u044F \u0432 \u0421\u0422\u041F \u0421-\u041C \u043D\u0430\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u043E \u043E\u0431\u0440\u0430\u0449\u0435\u043D\u0438\u0435 \u2116" + SDNumber + ". \u0412 " + time_end + " \u043F\u043E " + SDNumber + " \u043F\u043E\u043B\u0443\u0447\u0435\u043D \u043E\u0442\u0432\u0435\u0442 - \u0441\u0446\u0435\u043D\u0430\u0440\u0438\u0439 \u0441\u043A\u043E\u0440\u0440\u0435\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u043D. \u0421 \u0443\u043A\u0430\u0437\u0430\u043D\u043D\u043E\u0433\u043E \u0432\u0440\u0435\u043C\u0435\u043D\u0438 \u0441\u0431\u043E\u0440\u043A\u0438 \u0444\u0443\u043D\u043A\u0446\u0438\u043E\u043D\u0430\u043B\u044C\u043D\u044B\u0445 \u0442\u0435\u0441\u0442\u043E\u0432 \u0432\u044B\u043F\u043E\u043B\u043D\u044F\u044E\u0442\u0441\u044F \u043A\u043E\u0440\u0440\u0435\u043A\u0442\u043D\u043E.";
                    })();
                    break;
                case 'problem_underThreshold':
                    cliche = (function () {
                        var _a = _this._data, url = _a.url, isScreenshot = _a.isScreenshot, step = _a.step;
                        return "\u0422\u0435\u0441\u0442 \u0437\u0430\u0444\u0438\u043A\u0441\u0438\u0440\u043E\u0432\u0430\u043B \u043D\u0435\u0437\u043D\u0430\u0447\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0435 \u0443\u0432\u0435\u043B\u0438\u0447\u0435\u043D\u0438\u0435 \u0432\u0440\u0435\u043C\u0435\u043D\u0438 \u043F\u043E\u043B\u043D\u043E\u0439 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0438 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u044B " + url + ", \u0432\u0441\u043B\u0435\u0434\u0441\u0442\u0432\u0438\u0435 \u0447\u0435\u0433\u043E \u0431\u044B\u043B\u043E \u043F\u0440\u0435\u0432\u044B\u0448\u0435\u043D\u043E \u043A\u043E\u043D\u0442\u0440\u043E\u043B\u044C\u043D\u043E\u0435 \u0432\u0440\u0435\u043C\u044F \u0432\u044B\u043F\u043E\u043B\u043D\u0435\u043D\u0438\u044F \u0441\u0446\u0435\u043D\u0430\u0440\u0438\u044F \u043F\u043E \u0448\u0430\u0433\u0443 \u2116" + step + ".\n                        \u041F\u0440\u0438 \u043F\u0440\u043E\u0432\u0435\u0440\u043A\u0435 \u0432\u0440\u0443\u0447\u043D\u0443\u044E, \u0437\u0430\u0434\u0435\u0440\u0436\u0435\u043A \u043F\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0435 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u044B \u043E\u0431\u043D\u0430\u0440\u0443\u0436\u0435\u043D\u043E \u043D\u0435 \u0431\u044B\u043B\u043E" + (isScreenshot && ' (см. снимок экрана во вложении)') + ".\n                        ";
                    })();
                    break;
            }
            resolve(cliche);
            reject(new Error('Error in handling cliche'));
        });
    };
    return AutomatonWorker;
}());
exports.AutomatonWorker = AutomatonWorker;
//# sourceMappingURL=Automaton.js.map